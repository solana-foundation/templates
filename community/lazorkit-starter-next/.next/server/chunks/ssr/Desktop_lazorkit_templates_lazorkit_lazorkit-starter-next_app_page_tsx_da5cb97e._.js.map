{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/joshua/Desktop/lazorkit/templates/lazorkit/lazorkit-starter-next/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useWallet } from \"@lazorkit/wallet\";\nimport { SystemProgram, PublicKey, LAMPORTS_PER_SOL } from \"@solana/web3.js\";\nimport { useState, useEffect } from \"react\";\n\nexport default function Home() {\n  const { smartWalletPubkey, isConnected, isConnecting, isSigning, connect, disconnect, signAndSendTransaction, error, wallet } = useWallet();\n  const [recipientAddress, setRecipientAddress] = useState('');\n  const [amount, setAmount] = useState('0.01');\n  const [copied, setCopied] = useState(false);\n  const [txStatus, setTxStatus] = useState<string>('');\n\n  useEffect(() => {\n    if (wallet) {\n      if (!wallet.passkeyPubkey || wallet.passkeyPubkey.length === 0) {\n        setTxStatus('Error: Wallet data corrupted. Please disconnect and reconnect your wallet.');\n        return;\n      }\n\n      if (wallet.passkeyPubkey.length !== 33) {\n        setTxStatus('Error: Invalid wallet data. Please disconnect and reconnect your wallet.');\n        return;\n      }\n\n      const storedCredId = localStorage.getItem('CREDENTIAL_ID');\n      if (wallet.credentialId && !storedCredId) {\n        localStorage.setItem('CREDENTIAL_ID', wallet.credentialId);\n      }\n\n      setTxStatus('');\n    }\n  }, [wallet, isConnected]);\n\n  const handleConnect = async () => {\n    try {\n      await connect();\n    } catch (err) {\n      setTxStatus('Connection failed. Please try again.');\n    }\n  };\n\n  const handleCopyAddress = async () => {\n    if (smartWalletPubkey) {\n      try {\n        await navigator.clipboard.writeText(smartWalletPubkey.toString());\n        setCopied(true);\n        setTimeout(() => setCopied(false), 2000);\n      } catch (err) {\n        setTxStatus('Failed to copy address');\n      }\n    }\n  };\n\n  const handleSend = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!smartWalletPubkey || !recipientAddress || !amount) return;\n\n    if (!wallet || !wallet.passkeyPubkey || wallet.passkeyPubkey.length !== 33) {\n      setTxStatus('Error: Invalid wallet state. Please disconnect and reconnect your wallet.');\n      return;\n    }\n\n    setTxStatus('');\n    try {\n      let recipientPubkey: PublicKey;\n      try {\n        recipientPubkey = new PublicKey(recipientAddress);\n      } catch (err) {\n        setTxStatus('Error: Invalid recipient address');\n        return;\n      }\n\n      const transferInstruction = SystemProgram.transfer({\n        fromPubkey: smartWalletPubkey,\n        toPubkey: recipientPubkey,\n        lamports: LAMPORTS_PER_SOL * parseFloat(amount),\n      });\n\n      const sig = await signAndSendTransaction({\n        instructions: [transferInstruction],\n        transactionOptions: {\n          computeUnitLimit: 200_000\n        }\n      });\n\n      setTxStatus(`Success! Transaction: ${sig}`);\n      setRecipientAddress('');\n      setAmount('0.01');\n\n      setTimeout(() => setTxStatus(''), 5000);\n    } catch (err) {\n      const errorMsg = err instanceof Error ? err.message : 'Unknown error';\n      setTxStatus(`Error: ${errorMsg}`);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white\">\n      <nav className=\"flex items-center justify-between p-4 bg-gray-800\">\n        <div className=\"text-xl font-bold\">LazorKit Scaffold</div>\n        <div>\n          {!isConnected ? (\n            <button onClick={handleConnect} disabled={isConnecting} className=\"px-4 py-2 bg-blue-600 rounded hover:bg-blue-700 disabled:bg-gray-500\">\n              {isConnecting ? 'Connecting...' : 'Connect Wallet'}\n            </button>\n          ) : (\n            <div className=\"flex items-center gap-4\">\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-sm\">{smartWalletPubkey?.toString().slice(0, 4)}...{smartWalletPubkey?.toString().slice(-4)}</span>\n                <button\n                  onClick={handleCopyAddress}\n                  className=\"px-2 py-1 text-xs bg-gray-700 rounded hover:bg-gray-600\"\n                  title=\"Copy full address\"\n                >\n                  {copied ? '✓ Copied' : 'Copy'}\n                </button>\n              </div>\n              <button onClick={disconnect} className=\"px-4 py-2 bg-red-600 rounded hover:bg-red-700\">Disconnect</button>\n            </div>\n          )}\n        </div>\n      </nav>\n\n      <main className=\"p-8\">\n        <div className=\"grid md:grid-cols-2 gap-8\">\n          <a href=\"https://docs.lazorkit.com/\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"block p-6 bg-gray-800 rounded-lg hover:bg-gray-700\">\n            <h2 className=\"text-2xl font-bold mb-2\">Docs</h2>\n            <p>Explore the LazorKit documentation to get started.</p>\n          </a>\n          <a href=\"https://github.com/lazor-kit\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"block p-6 bg-gray-800 rounded-lg hover:bg-gray-700\">\n            <h2 className=\"text-2xl font-bold mb-2\">GitHub</h2>\n            <p>Contribute and see the source code on our GitHub.</p>\n          </a>\n        </div>\n\n        {isConnected && (\n          <div className=\"mt-8 max-w-md mx-auto\">\n            <div className=\"bg-gray-800 p-6 rounded-lg\">\n              <h2 className=\"text-2xl font-bold mb-4\">Send SOL</h2>\n\n              {wallet && (!wallet.passkeyPubkey || wallet.passkeyPubkey.length !== 33) && (\n                <div className=\"mb-4 p-3 bg-red-900/50 border border-red-700 rounded\">\n                  <p className=\"text-red-200 text-sm font-medium\">⚠️ Wallet data is corrupted</p>\n                  <p className=\"text-red-300 text-xs mt-1\">Please disconnect and reconnect your wallet to fix this issue.</p>\n                </div>\n              )}\n\n              <form onSubmit={handleSend} className=\"space-y-4\">\n                <div>\n                  <label htmlFor=\"recipient\" className=\"block text-sm font-medium mb-2\">\n                    Recipient Address\n                  </label>\n                  <input\n                    id=\"recipient\"\n                    type=\"text\"\n                    value={recipientAddress}\n                    onChange={(e) => setRecipientAddress(e.target.value)}\n                    placeholder=\"Enter Solana address\"\n                    className=\"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-blue-500 text-white\"\n                    required\n                  />\n                </div>\n                <div>\n                  <label htmlFor=\"amount\" className=\"block text-sm font-medium mb-2\">\n                    Amount (SOL)\n                  </label>\n                  <input\n                    id=\"amount\"\n                    type=\"number\"\n                    step=\"0.001\"\n                    min=\"0.001\"\n                    value={amount}\n                    onChange={(e) => setAmount(e.target.value)}\n                    placeholder=\"0.01\"\n                    className=\"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-blue-500 text-white\"\n                    required\n                  />\n                </div>\n                <button\n                  type=\"submit\"\n                  disabled={isSigning || !recipientAddress || !amount}\n                  className=\"w-full px-6 py-3 bg-green-600 rounded hover:bg-green-700 disabled:bg-gray-500 font-medium\"\n                >\n                  {isSigning ? 'Sending...' : 'Send SOL'}\n                </button>\n              </form>\n\n              {txStatus && (\n                <div className={`mt-4 p-3 rounded ${txStatus.startsWith('Success') ? 'bg-green-900/50 text-green-200' : 'bg-red-900/50 text-red-200'}`}>\n                  <p className=\"text-sm break-all\">{txStatus}</p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {error && <p className=\"mt-4 text-center text-red-500\">Error: {error.message}</p>}\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}